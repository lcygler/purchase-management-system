<div class="container m-4" style="width: 100vw">
  <!-- Loader -->
  <div
    class="d-flex justify-content-center align-items-center"
    style="height: 70vh"
    *ngIf="isLoading"
  >
    <span class="loader"></span>
  </div>

  <!-- Cards -->
  <div class="row" *ngIf="!isLoading">
    <div class="card-group gap-4" style="margin-top: 30px">
      <!-- Suppliers -->
      <div class="col-md">
        <div class="card mb-5 custom-card">
          <div class="row g-0">
            <div class="col-md-6">
              <img
                src="../../../../assets/img/home/suppliers/suppliers.jpg"
                class="card-img-top custom-image"
                alt="..."
              />
            </div>
            <div class="col-md-6">
              <div class="card-body">
                <h2 class="card-title" *ngIf="supplierList.length > 0">
                  {{ supplierList.length }}
                </h2>
                <h5>Proveedores</h5>
                <div class="mt-3">
                  <a routerLink="/suppliers" class="btn custom-btn-fill">
                    Ver listado
                    <fa-icon
                      [icon]="faArrowRight"
                      style="margin-left: 10px"
                    ></fa-icon>
                  </a>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Products -->
      <div class="col-md">
        <div class="card mb-5 custom-card">
          <div class="row g-0">
            <div class="col-md-6">
              <img
                src="../../../../assets/img/home/products/products.jpg"
                class="card-img-top custom-image"
                alt="..."
              />
            </div>
            <div class="col-md-6">
              <div class="card-body">
                <h2 class="card-title" *ngIf="productList.length > 0">
                  {{ productList.length }}
                </h2>
                <h5>Productos</h5>
                <div class="mt-3">
                  <a routerLink="/products" class="btn custom-btn-fill">
                    Ver listado
                    <fa-icon
                      [icon]="faArrowRight"
                      style="margin-left: 10px"
                    ></fa-icon>
                  </a>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Orders -->
      <div class="col-md">
        <div class="card mb-5 custom-card">
          <div class="row g-0">
            <div class="col-md-6">
              <img
                src="../../../../assets/img/home/orders/orders.jpg"
                class="card-img-top custom-image"
                alt="..."
              />
            </div>
            <div class="col-md-6">
              <div class="card-body">
                <h2 class="card-title" *ngIf="orderList.length > 0">
                  {{ orderList.length }}
                </h2>
                <h5>Ordenes</h5>
                <div class="mt-3">
                  <a routerLink="/orders" class="btn custom-btn-fill">
                    Ver listado
                    <fa-icon
                      [icon]="faArrowRight"
                      style="margin-left: 10px"
                    ></fa-icon>
                  </a>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Charts -->
  <div class="row" *ngIf="!isLoading">
    <!-- Suppliers -->
    <div class="col-md">
      <div class="card mb-3 custom-chart">
        <div class="card-body d-flex flex-column justify-content-between">
          <h6 class="card-title">
            <fa-icon [icon]="faUsers" style="margin-right: 10px"></fa-icon>
            Proveedores frecuentes
          </h6>
          <div class="mt-2">
            <table
              class="table table-hover text-center align-middle"
              style="font-size: 14px"
            >
              <!-- <thead class="table-light"> -->
              <thead>
                <tr>
                  <th>#</th>
                  <th>Proveedores</th>
                  <th>Pedidos</th>
                </tr>
              </thead>
              <tbody>
                <tr
                  *ngFor="
                    let supplier of topSuppliers.slice(0, 3);
                    let i = index
                  "
                >
                  <td>{{ i + 1 }}</td>
                  <td>{{ supplier[0] }}</td>
                  <td>{{ supplier[1] }}</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>

    <!-- Products -->
    <div class="col-md">
      <div class="card mb-3 custom-chart">
        <div class="card-body d-flex flex-column justify-content-between">
          <h6 class="card-title">
            <fa-icon [icon]="faTags" style="margin-right: 10px"></fa-icon>
            Productos m√°s solicitados
          </h6>
          <div class="mt-2">
            <table
              class="table table-hover text-center align-middle"
              style="font-size: 14px"
            >
              <thead>
                <tr>
                  <th>#</th>
                  <th>Productos</th>
                  <th>Cantidad</th>
                </tr>
              </thead>
              <tbody>
                <tr
                  *ngFor="let product of topProducts.slice(0, 3); let i = index"
                >
                  <td>{{ i + 1 }}</td>
                  <td>{{ product[0] }}</td>
                  <td>{{ product[1] }}</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>

    <!-- Orders -->
    <div class="col-md">
      <div class="card mb-3 custom-chart">
        <div class="card-body d-flex flex-column justify-content-between">
          <h6 class="card-title">
            <fa-icon [icon]="faDollarSign" style="margin-right: 10px"></fa-icon>
            Ordenes totales por mes
          </h6>
          <div class="mt-2">
            <app-orders-chart></app-orders-chart>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
